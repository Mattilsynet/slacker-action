name: Slack notify

on:
  workflow_dispatch: {}
  push:
    branches:
      - 'main'

jobs:
  post:
    name: notify slack
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: Mattilsynet/slacker-action@main
        env:
          token: ${{ secrets.SLACK_BOT_TOKEN }}
        with:
          channel-id: C08C995BUAZ
          args: |
            repo=${{ github.repository }}
            star=:star-struck:
          text: '[repo] sends good fortune [star] <https://github.com/${{ github.repository }}/actions/runs/${{ github.run_id }} | Go to workflow>'
          debug: true
